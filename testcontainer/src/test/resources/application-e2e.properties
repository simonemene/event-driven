#source,processor,sink
spring.cloud.function.definition=orderCheckAvailable,consumer
spring.cloud.config.enabled=false
spring.config.import=
spring.scheduling.time=500
spring.scheduled.delay=8000


#source
spring.cloud.stream.bindings.order-out-0.destination=order-topic
spring.cloud.stream.bindings.order-out-0.content-type=application/json

resilience4j.circuitbreaker.instances.kafkaProducer.failureRateThreshold=50
resilience4j.circuitbreaker.instances.kafkaProducer.slidingWindowSize=10
resilience4j.circuitbreaker.instances.kafkaProducer.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.kafkaProducer.waitDurationInOpenState=30s

#sink
spring.cloud.stream.bindings.consumer-in-0.destination=stock-topic
spring.cloud.stream.bindings.consumer-in-0.group=sink-group



spring.cloud.stream.kafka.bindings.consumer-in-0.consumer.enable-dlq=true
spring.cloud.stream.kafka.bindings.consumer-in-0.consumer.dlq-name=stock-topic.dlq

#processor
spring.cloud.stream.bindings.orderCheckAvailable-out-0.destination=stock-topic
spring.cloud.stream.bindings.orderCheckAvailable-in-0.destination=order-topic
spring.cloud.stream.bindings.orderCheckAvailable-in-0.group=check-available-group
spring.cloud.stream.kafka.bindings.orderCheckAvailable-in-0.consumer.enable-dlq=true
spring.cloud.stream.kafka.bindings.orderCheckAvailable-in-0.consumer.dlq-name=order-topic.dlq


#jpa
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.default_schema=test


#flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.schemas=test
spring.flyway.default-schema=test



